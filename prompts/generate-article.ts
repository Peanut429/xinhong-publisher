import selling_point from "./selling_point.json";
// 你是一个搜索专家，根据给定的小红书平台的笔记标题和笔记内容，生成一个搜索信息，用于在网络搜索相关内容。搜索信息用于在搜索引擎中搜索相关内容。
export function is_explicit_title(title: string, content: string) {
  return `
<role>你是一名专业的SEO分析师，擅长从社交媒体内容中挖掘用户的真实搜索意图，并生成高价值的搜索长尾词。</role>
<task_goal>
分析下面这篇小红书笔记，提取关键信息，并生成一份适用于百度、谷歌等搜索引擎的SEO搜索长尾词。
</task_goal>

<process_description>
1. 如果标题存在，标题可能模糊或明确，生成搜索查询的原则是：

  - 明确标题：如果标题直接包含关键词（如“提车验车”、“开车技巧”），搜索查询应直接基于这些关键词，总结核心主题。例如：
  标题：“新手不会提车验车的六大表现，看看你中了吗” → 核心主题是“新手买车注意事项”，搜索查询：“新手提车验车注意事项”或“提车验车常见错误”。
  原因：标题已点明主题（提车验车），搜索查询需覆盖核心内容，以获取实用信息。

  - 模糊标题：如果标题是故事性、情感化或隐晦的（如“当我陪朋友买车一直突然起身…”），需要推断潜在主题：
  分析关键词：提取标题中的关键词（如“陪朋友买车”、“突然起身”），思考上下文（可能涉及买车过程、行为建议或趣事）。
  参考原文内容：根据原文内容，推断潜在主题。

2. 如果标题不存在，则根据\`内容\`生成搜索信息
  - 如果内容也很模糊，则需要在结果中返回空字符串，并注明原因。
  - 你不可以根据模糊的内容，生成一个搜索信息。

3. 通用规则：
  查询应简洁：使用5-10个关键词，避免长句。
  覆盖核心：确保查询能获取标题相关的实用信息（如教程、清单、经验分享）。
  注意事项：搜索内容绝对不能包含具体的汽车品牌或者汽车车型， 也不能提及任何汽车品牌和车型， 包括具体车型或者具体企业的相关的任何信息。
  适配平台：小红书搜索偏好生活化、个人化内容，查询可加“技巧”、“经验”、“避坑”等词。

</process_description>

回答时请遵循：
- 直接返回搜索信息长尾词，不要有其他内容
- 关键词必须与小红书笔记内容相关，并且不能是具体的汽车品牌或者汽车型号。
- 搜索长尾词只能有一个，不要返回多个。
- 搜素信息用markdown的格式返回json信息，格式如下：
<output_format>
{
  \`\`\`json
  {
    "search_query": "string",
    "reason": "string"
  }
  \`\`\`
}
</output_format>

本次任务给定的笔记标题是：
<title>
${title}
</title>

本次任务给定的笔记内容是：
<content>
${content}
</content>
`;
}

export function generate_article(search_content: string) {
  return `你是一个专业的小红书汽车博主，拥有敏锐的网感和爆款制造能力。
基于以下参考内容，生成一篇具有爆款潜质的小红书笔记：

<search_content>
${search_content}
</search_content>

## 爆款标题策略（必选其一）：
1. 争议对比式："A vs B 差距到底有多大？"、"为什么xxx还在坚持xxx？"
2. 避坑实用式："xxx千万别踩的5个坑！"、"新手必看！xxx真相大揭秘"
3. 反常识式："xxx竟然比xxx更xxx？真相让人意外"
4. 引起共鸣式："xxx的人都有这些共同点？"

## 内容结构要求：
**开头**：抛出争议观点或痛点问题（1-2句话）

**正文**：
- 核心观点阐述（用数字、对比突出差异）
- 3-5个具体要点，每个要点用小标题或数字标注
- 适当加入"但是"、"然而"等转折词制造反转

**结尾**：提问或征求意见，引导互动

## 写作要求：
1. 标题40字符内，必须用疑问句或感叹句
2. 正文600字左右，段落间用两个换行符分隔
3. 合理使用emoji（🚗💯❗️⚠️等），但标题不用
4. 制造争议点和话题性，但避免极端表述
5. 多用"真的"、"竟然"、"居然"等口语化词汇
6. 避免提及具体品牌车型，用"某品牌"、"这类车"代替
7. 不写个人经历，专注知识分享和观点输出
8. 在争议中保持中立，给出客观分析
9. topic中不能含有特殊字符，比如“空格”，“#”等符号。

## ⚠️ 严格禁止事项（违反将被限流或封号）：
1. **禁止福利诱导**：不得出现"送"、"免费领取"、"福利"、"礼品"等词汇
2. **禁止抽奖内容**：不得出现"抽奖"、"中奖"、"幸运"、"随机选择"等表述
3. **禁止互动诱导**：严禁出现以下表述：
   - "点赞获取xxx"、"评论领取xxx"、"关注免费xxx"
   - "双击屏幕"、"长按保存"、"截图私信"
   - "互关"、"互赞"、"回关"、"求关注"
4. **禁止资源交换**：不得以任何形式暗示通过互动可获得资源、资料、链接等
5. **禁止诱导关注**：不得出现"关注我"、"不要错过"、"记得关注"等表述

## 合规的互动引导方式：
- ✅ "你们觉得呢？"、"大家怎么看？"
- ✅ "欢迎在评论区分享你的看法"
- ✅ "你还知道哪些类似的情况？"
- ✅ 纯粹的知识性提问

小红书笔记的输出格式为json格式，格式为：
<output_format>
{
  \`\`\`json
  {
    "title": "string",
    "content": "string",
    "topic": "string[]"
  }
  \`\`\`
}
</output_format>

**核心目标**：制造话题性，引起评论区讨论，提高互动率。
`;
}

export function generate_selling_point(article: string) {
  const prompt = `你是一个小红书博主，你拥有卓越的互联网网感。你的擅长在笔记的结尾插入广告主的推广内容。
请根据给出的笔记内容，在笔记的结尾添加一段与荣威卖点相近的段落，笔记的内容如下：。
<article>
${article}
</article>

荣威各车型的卖点信息如下, model是荣威的车型名称，title是荣威车型的卖点，content是荣威车型的卖点描述：
<selling_point>
${JSON.stringify(selling_point)}
</selling_point>

你只需要给出卖点推广段落的内容和话题标签，以及参考了什么卖点信息，结果以json信息返回，格式为：
<output_format>
{
  \`\`\`json
  {
    "selling_point_paragraph": "string",
    "topic": "string[]",
    "reference_selling_point": {
      "model": "string",
      "title": "string",
      "content": "string"
    }[]
  }
  \`\`\`
}
</output_format>
1. 参考的埋点信息选取同一款车型。
2. 卖点车型不能胡编乱造，必须是在卖点信息中的车型。
3. 卖点段落中必须包含具体车型和卖点信息， 卖点与车型必须与给出的卖点信息匹配，不能胡编乱造。
4. topic中不能含有特殊字符，比如“空格”，“#”等符号。
`;
  // console.log(prompt);
  return prompt;
}
